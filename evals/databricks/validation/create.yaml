url: https://docs.databricks.com/aws/en/metric-views/create
raw_content: "<!doctype html><html lang=en dir=ltr class=\"docs-wrapper plugin-docs\
  \ plugin-id-default docs-version-current docs-doc-page docs-doc-id-metric-views/create\"\
  \ data-has-hydrated=false><meta charset=UTF-8><meta name=generator content=\"Docusaurus\
  \ v3.6.3\"><title data-rh=true>Create a metric view | Databricks on AWS</title><meta\
  \ data-rh=true name=viewport content=\"width=device-width,initial-scale=1.0\"><meta\
  \ data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true\
  \ property=og:image content=https://docs.databricks.com/aws/en/img/og-image.png><meta\
  \ data-rh=true name=twitter:image content=https://docs.databricks.com/aws/en/img/og-image.png><meta\
  \ data-rh=true property=og:url content=https://docs.databricks.com/aws/en/metric-views/create><meta\
  \ data-rh=true property=og:locale content=en><meta data-rh=true property=og:locale:alternate\
  \ content=ja><meta data-rh=true property=og:locale:alternate content=pt><meta data-rh=true\
  \ name=docusaurus_locale content=en><meta data-rh=true name=docsearch:language content=en><meta\
  \ data-rh=true name=docusaurus_version content=current><meta data-rh=true name=docusaurus_tag\
  \ content=docs-default-current><meta data-rh=true name=docsearch:version content=current><meta\
  \ data-rh=true name=docsearch:docusaurus_tag content=docs-default-current><meta\
  \ data-rh=true property=og:title content=\"Create a metric view | Databricks on\
  \ AWS\"><meta data-rh=true name=description content=\"Learn how to create a metric\
  \ view to centralize business logic and consistently define key performance indicators\
  \ across reporting tools.\"><meta data-rh=true property=og:description content=\"\
  Learn how to create a metric view to centralize business logic and consistently\
  \ define key performance indicators across reporting tools.\"><link data-rh=true\
  \ rel=icon href=/aws/en/img/favicon.ico><link data-rh=true rel=canonical href=https://docs.databricks.com/aws/en/metric-views/create><link\
  \ data-rh=true rel=alternate href=https://docs.databricks.com/aws/en/metric-views/create\
  \ hreflang=en><link data-rh=true rel=alternate href=https://docs.databricks.com/aws/en/ja/metric-views/create\
  \ hreflang=ja><link data-rh=true rel=alternate href=https://docs.databricks.com/aws/en/pt/metric-views/create\
  \ hreflang=pt><link data-rh=true rel=alternate href=https://docs.databricks.com/aws/en/metric-views/create\
  \ hreflang=x-default><link rel=preconnect href=https://www.googletagmanager.com><script>window.dataLayer=window.dataLayer||[],function(e,t,a,n,r){e[n]=e[n]||[],e[n].push({\"\
  gtm.start\":new Date().getTime(),event:\"gtm.js\"});var d=t.getElementsByTagName(a)[0],g=t.createElement(a);g.async=!0,g.src=\"\
  https://www.googletagmanager.com/gtm.js?id=\"+r+(\"dataLayer\"!=n?\"&l=\"+n:\"\"\
  ),d.parentNode.insertBefore(g,d)}(window,document,\"script\",\"dataLayer\",\"GTM-TWTKQQ\"\
  )</script><link rel=stylesheet href=/aws/en/assets/css/styles.6776715e.css><script\
  \ src=/aws/en/assets/js/runtime~main.ec9796f6.js defer></script><script src=/aws/en/assets/js/main.14727540.js\
  \ defer></script><body class=navigation-with-keyboard><noscript><iframe src=\"https://www.googletagmanager.com/ns.html?id=GTM-TWTKQQ\"\
  \ height=0 width=0 style=display:none;visibility:hidden></iframe></noscript>\n\n\
  <script>!function(){var t,e=function(){try{return new URLSearchParams(window.location.search).get(\"\
  docusaurus-theme\")}catch(t){}}()||function(){try{return window.localStorage.getItem(\"\
  theme\")}catch(t){}}();t=null!==e?e:\"light\",document.documentElement.setAttribute(\"\
  data-theme\",t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith(\"\
  docusaurus-data-\")){var a=t.replace(\"docusaurus-data-\",\"data-\");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div\
  \ id=__docusaurus><div role=region aria-label=\"Skip to main content\"><a class=skipToContent_TB0u\
  \ href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><nav aria-label=Main\
  \ class=\"navbar navbar--fixed-top\"><div class=navbar__inner><div class=navbar__items><button\
  \ aria-label=\"Toggle navigation bar\" aria-expanded=false class=\"navbar__toggle\
  \ clean-btn\" type=button><svg width=30 height=30 viewBox=\"0 0 30 30\" aria-hidden=true><path\
  \ stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d=\"\
  M4 7h22M4 15h22M4 23h22\"/></svg></button><a href=https://www.databricks.com target=_blank\
  \ rel=\"noopener noreferrer\" class=navbar__brand><div class=navbar__logo><img src=/aws/en/img/logo.svg\
  \ alt=\"Databricks Logo\" class=\"themedComponent_hRIn themedComponent--light_H5vX\"\
  ><img src=/aws/en/img/logo-dark.svg alt=\"Databricks Logo\" class=\"themedComponent_hRIn\
  \ themedComponent--dark_aLeF\"></div></a><a aria-current=page class=\"navbar__item\
  \ navbar__link navbar__link--active\" href=/aws/en/getting-started/>Get started</a><a\
  \ aria-current=page class=\"navbar__item navbar__link navbar__link--active\" href=/aws/en/developers/>Developers</a><a\
  \ aria-current=page class=\"navbar__item navbar__link navbar__link--active\" href=/aws/en/reference/api>Reference</a><a\
  \ aria-current=page class=\"navbar__item navbar__link navbar__link--active\" href=/aws/en/release-notes/>Release\
  \ notes</a><div class=\"navbar__item dropdown dropdown--hoverable\"><a href=# aria-haspopup=true\
  \ aria-expanded=false role=button class=navbar__link>Resources</a><ul class=dropdown__menu><li><a\
  \ href=https://help.databricks.com target=_blank rel=\"noopener noreferrer\" class=dropdown__link>Support<svg\
  \ width=12 height=12 aria-hidden=true viewBox=\"0 0 24 24\" class=iconExternalLink_Lu68><path\
  \ fill=currentColor d=\"M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035\
  \ 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z\"/></svg></a><li><a href=https://kb.databricks.com\
  \ target=_blank rel=\"noopener noreferrer\" class=dropdown__link>Knowledge Base<svg\
  \ width=12 height=12 aria-hidden=true viewBox=\"0 0 24 24\" class=iconExternalLink_Lu68><path\
  \ fill=currentColor d=\"M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035\
  \ 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z\"/></svg></a><li><a href=https://community.databricks.com\
  \ target=_blank rel=\"noopener noreferrer\" class=dropdown__link>Community<svg width=12\
  \ height=12 aria-hidden=true viewBox=\"0 0 24 24\" class=iconExternalLink_Lu68><path\
  \ fill=currentColor d=\"M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035\
  \ 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z\"/></svg></a><li><a href=https://customer-academy.databricks.com\
  \ target=_blank rel=\"noopener noreferrer\" class=dropdown__link>Training<svg width=12\
  \ height=12 aria-hidden=true viewBox=\"0 0 24 24\" class=iconExternalLink_Lu68><path\
  \ fill=currentColor d=\"M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035\
  \ 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z\"/></svg></a><li><a href=\"\
  mailto:doc-feedback@databricks.com?subject=Documentation Feedback\" target=_blank\
  \ rel=\"noopener noreferrer\" class=dropdown__link>Feedback<svg width=12 height=12\
  \ aria-hidden=true viewBox=\"0 0 24 24\" class=iconExternalLink_Lu68><path fill=currentColor\
  \ d=\"M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828\
  \ 2.828 6.977-7.07 4.125 4.172v-11z\"/></svg></a></ul></div></div><div class=\"\
  navbar__items navbar__items--right\"><div class=\"toggle_SEEL colorModeToggle_zm0l\"\
  ><button class=\"clean-btn toggleButton_xR62 toggleButtonDisabled_mwDw\" type=button\
  \ disabled title=\"Switch between dark and light mode (currently light mode)\" aria-label=\"\
  Switch between dark and light mode (currently light mode)\" aria-live=polite aria-pressed=false><svg\
  \ viewBox=\"0 0 24 24\" width=24 height=24 class=lightToggleIcon_rwxp><path fill=currentColor\
  \ d=\"M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5\
  \ S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z\
  \ M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z\
  \ M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z\
  \ M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z\
  \ M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41\
  \ L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41\
  \ s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06\
  \ c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z\"/></svg><svg viewBox=\"\
  0 0 24 24\" width=24 height=24 class=darkToggleIcon_sZjN><path fill=currentColor\
  \ d=\"M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19\
  \ c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36\
  \ c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z\"\
  /></svg></button></div><div class=navbarSearchContainer_bHWz></div></div></div><div\
  \ class=navbar__inner><div class=navbar__items><style data-emotion=\"css 1tpdvqq\"\
  >.css-1tpdvqq{width:240px}</style><div class=\"searchBar css-1tpdvqq\" id=auto><div\
  \ ng-controller=SearchautoController><div bind-html-compile=autocompleteHtml></div></div></div></div><div\
  \ class=\"navbar__items navbar__items--right\"><div class=\"navbar__item dropdown\
  \ dropdown--hoverable dropdown--right\"><a href=# aria-haspopup=true aria-expanded=false\
  \ role=button class=navbar__link>English</a><ul class=dropdown__menu><li><a class=dropdown__link\
  \ lang=en href=/aws/en/metric-views/create>English</a><li><a class=dropdown__link\
  \ lang=ja href=/aws/en/aws/ja/metric-views/create>\xE6\x97\xA5\xE6\x9C\xAC\xE8\xAA\
  \x9E</a><li><a class=dropdown__link lang=pt href=/aws/en/aws/pt/metric-views/create>Portugu\xC3\
  \xAAs</a></ul></div><div class=\"navbar__item dropdown dropdown--hoverable dropdown--right\"\
  ><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link>AWS</a><ul\
  \ class=dropdown__menu><li><a href=https://learn.microsoft.com/azure/databricks/metric-views/create\
  \ rel=\"noopener noreferrer\" class=dropdown__link>Azure<svg width=12 height=12\
  \ aria-hidden=true viewBox=\"0 0 24 24\" class=iconExternalLink_Lu68><path fill=currentColor\
  \ d=\"M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828\
  \ 2.828 6.977-7.07 4.125 4.172v-11z\"/></svg></a><li><a class=dropdown__link href=/aws/en/gcp/en/metric-views/create>GCP</a><li><a\
  \ class=dropdown__link href=/aws/en/sap>SAP</a></ul></div><style data-emotion=\"\
  css 143a876\">.css-143a876{color:#fff;text-transform:uppercase;background-color:#2272b4;align-items:center;height:100%;font-size:90%;font-weight:600;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:0\
  \ .8rem!important}.css-143a876:hover{color:#fff;background-color:#0e538b;-webkit-text-decoration:none;text-decoration:none}</style><a\
  \ class=\"tryDatabricksLink css-143a876\" href=\"https://signup.databricks.com/?dbx_source=docs\"\
  \ target=_blank rel=noreferrer>Try Databricks</a></div></div><div role=presentation\
  \ class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback\
  \ class=\"main-wrapper mainWrapper_zemO\"><div class=docsWrapper_klhP><button aria-label=\"\
  Scroll back to top\" class=\"clean-btn theme-back-to-top-button backToTopButton_oGYd\"\
  \ type=button></button><div class=docRoot_Te_T><aside class=\"theme-doc-sidebar-container\
  \ docSidebarContainer_nExd\"><div class=sidebarViewport_fPew></div></aside><main\
  \ class=docMainContainer_Bfa7><div class=\"container padding-top--md padding-bottom--lg\"\
  ><div class=row><div class=\"col docItemCol_r8C9\"><div class=docItemContainer_ct0A><article><style\
  \ data-emotion=\"css 1rizvmm\">.css-1rizvmm{justify-content:space-between;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:relative}.css-1rizvmm\
  \ .breadcrumbs{-webkit-flex:1;-ms-flex:1;flex:1;min-width:0}</style><div class=css-1rizvmm><nav\
  \ class=\"theme-doc-breadcrumbs breadcrumbsContainer_djwJ\" aria-label=Breadcrumbs><ul\
  \ class=breadcrumbs itemscope itemtype=https://schema.org/BreadcrumbList><li class=breadcrumbs__item><a\
  \ aria-label=\"Home page\" class=breadcrumbs__link href=/aws/en/><svg viewBox=\"\
  0 0 24 24\" class=breadcrumbHomeIcon_hOxA><path d=\"M10 19v-5h4v5c0 .55.45 1 1 1h3c.55\
  \ 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36\
  \ 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z\" fill=currentColor\
  \ /></svg></a><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem\
  \ class=breadcrumbs__item><a class=breadcrumbs__link itemprop=item href=/aws/en/sql/><span\
  \ itemprop=name>Data warehousing</span></a><meta itemprop=position content=1><li\
  \ itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class=breadcrumbs__item><a\
  \ class=breadcrumbs__link itemprop=item href=/aws/en/metric-views/><span itemprop=name>Metric\
  \ views</span></a><meta itemprop=position content=2><li itemscope itemprop=itemListElement\
  \ itemtype=https://schema.org/ListItem class=\"breadcrumbs__item breadcrumbs__item--active\"\
  ><span class=breadcrumbs__link itemprop=name>Create a metric view</span><meta itemprop=position\
  \ content=3></ul></nav></div><div class=\"tocCollapsible_MlSb theme-doc-toc-mobile\
  \ tocMobile_P4AZ\"><button type=button class=\"clean-btn tocCollapsibleButton_YzX8\"\
  >On this page</button></div><div class=\"theme-doc-markdown markdown\"><header><h1>Create\
  \ a metric view</h1></header>\n<div class=\"theme-admonition theme-admonition-info\
  \ admonition_ZQrk alert alert--info\"><div class=admonitionHeading_kIkl><span class=admonitionIcon_LeTk><svg\
  \ viewBox=\"0 0 14 16\"><path fill-rule=evenodd d=\"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56\
  \ 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0\
  \ 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z\"/></svg></span>Preview</div><div\
  \ class=admonitionContent_dv_9><p>This feature is in <a href=/aws/en/release-notes/release-types>Public\
  \ Preview</a>.</div></div>\n<p>Learn how to create a metric view to centralize business\
  \ logic and consistently define key performance indicators across reporting surfaces.\
  \ See <a href=/aws/en/metric-views/>Unity Catalog<!-- --> metric views</a>. This\
  \ tutorial demonstrates how to create a metric view using the Catalog Explorer UI.\
  \ To define metric views using SQL, see <a href=/aws/en/sql/language-manual/sql-ref-syntax-ddl-create-view>CREATE\
  \ VIEW</a>.</p>\n<h2 class=\"anchor anchorWithStickyNavbar_MgEv\" id=prerequisites>Prerequisites<a\
  \ href=#prerequisites class=hash-link aria-label=\"Direct link to Prerequisites\"\
  \ title=\"Direct link to Prerequisites\">\xE2\x80\x8B</a></h2>\n<ul>\n<li>You must\
  \ have <code>SELECT</code> privileges on the source data objects.</li>\n<li>You\
  \ must have the <a href=/aws/en/data-governance/unity-catalog/manage-privileges/privileges#create-table><code>CREATE\
  \ TABLE</code> privilege</a> and the <code>USE SCHEMA</code> privilege in the schema\
  \ where you want to create the metric view.</li>\n<li>You must also have the <code>USE\
  \ CATALOG</code> privilege on the schema's parent catalog.</li>\n<li>CAN USE permissions\
  \ on a SQL warehouse or other compute resource running <!-- -->Databricks Runtime<!--\
  \ --> 16.4 or above.</li>\n</ul>\n<p>A metastore admin or the catalog owner can\
  \ grant you all of these privileges. A schema owner or user with the <code>MANAGE</code>\
  \ privilege can grant you <code>USE SCHEMA</code> and <code>CREATE TABLE</code>\
  \ privileges on the schema.</p>\n<h2 class=\"anchor anchorWithStickyNavbar_MgEv\"\
  \ id=-step-1-choose-a-data-source><a id=source class=db-defined-anchor></a> Step\
  \ 1: Choose a data source<a href=#-step-1-choose-a-data-source class=hash-link aria-label=\"\
  Direct link to -step-1-choose-a-data-source\" title=\"Direct link to -step-1-choose-a-data-source\"\
  >\xE2\x80\x8B</a></h2>\n<p>Your metric view can be based on a table, view, or SQL\
  \ query. This tutorial uses the <code>orders</code> table in the <code>samples</code>\
  \ catalog\xE2\x80\x99s <code>tpch</code> schema.</p>\n<ol>\n<li>Click <img alt=\"\
  Data icon.\" src=\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04LjY0NTc2IDAuMzY4NDUzQzguNTEwODIgMC4xNDAwOTkgOC4yNjUzIDAgOC4wMDAwNiAwQzcuNzM0ODIgMCA3LjQ4OTMgMC4xNDAwOTkgNy4zNTQzNyAwLjM2ODQ1M0w0LjEwNDM3IDUuODY4NDVDMy45NjczNiA2LjEwMDMgMy45NjUxOCA2LjM4NzgxIDQuMDk4NjUgNi42MjE3MUM0LjIzMjEzIDYuODU1NjEgNC40ODA3NiA3IDQuNzUwMDYgN0gxMS4yNTAxQzExLjUxOTQgNyAxMS43NjggNi44NTU2MSAxMS45MDE1IDYuNjIxNzFDMTIuMDM0OSA2LjM4NzgxIDEyLjAzMjggNi4xMDAzIDExLjg5NTggNS44Njg0NUw4LjY0NTc2IDAuMzY4NDUzWk04LjAwMDA2IDIuMjI0MjZMOS45MzU3MiA1LjVINi4wNjQ0TDguMDAwMDYgMi4yMjQyNloiIGZpbGw9IiM3MjcyNzIiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04LjUgOS4yNUM4LjUgOC44MzU3OSA4LjgzNTc5IDguNSA5LjI1IDguNUgxNC4yNUMxNC42NjQyIDguNSAxNSA4LjgzNTc5IDE1IDkuMjVWMTQuMjVDMTUgMTQuNjY0MiAxNC42NjQyIDE1IDE0LjI1IDE1SDkuMjVDOC44MzU3OSAxNSA4LjUgMTQuNjY0MiA4LjUgMTQuMjVWOS4yNVpNMTAgMTBWMTMuNUgxMy41VjEwSDEwWiIgZmlsbD0iIzcyNzI3MiIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEgMTEuNzVDMSA5Ljk1NTA3IDIuNDU1MDcgOC41IDQuMjUgOC41QzYuMDQ0OTMgOC41IDcuNSA5Ljk1NTA3IDcuNSAxMS43NUM3LjUgMTMuNTQ0OSA2LjA0NDkzIDE1IDQuMjUgMTVDMi40NTUwNyAxNSAxIDEzLjU0NDkgMSAxMS43NVpNNC4yNSAxMEMzLjI4MzUgMTAgMi41IDEwLjc4MzUgMi41IDExLjc1QzIuNSAxMi43MTY1IDMuMjgzNSAxMy41IDQuMjUgMTMuNUM1LjIxNjUgMTMuNSA2IDEyLjcxNjUgNiAxMS43NUM2IDEwLjc4MzUgNS4yMTY1IDEwIDQuMjUgMTBaIiBmaWxsPSIjNzI3MjcyIi8+Cjwvc3ZnPgo=\"\
  \ width=16 height=16 class=mdx-image> <strong>Catalog</strong> in the workspace\
  \ sidebar.</li>\n<li>Use the search bar in the schema browser to find the <code>samples.tpch.orders</code>\
  \ table. Click <strong>orders</strong> to show table details.</li>\n<li>Click <strong>Create</strong>\
  \ > <strong>Metric view</strong>. The YAML editor opens.</li>\n</ol>\n<h2 class=\"\
  anchor anchorWithStickyNavbar_MgEv\" id=-step-2-define-metrics><a id=define class=db-defined-anchor></a>\
  \ Step 2: Define metrics<a href=#-step-2-define-metrics class=hash-link aria-label=\"\
  Direct link to -step-2-define-metrics\" title=\"Direct link to -step-2-define-metrics\"\
  >\xE2\x80\x8B</a></h2>\n<p>The YAML definition for this metric view includes the\
  \ following top-level fields:</p>\n<ul>\n<li><strong><code>version</code>:</strong>\
  \ Defaults to <code>0.1</code>. This is the version of the metric view specification.</li>\n\
  <li><strong>source:</strong> <code>samples.tpch.orders</code> is a fully-qualified\
  \ table name. All dimensions and measures on this metric view use the specified\
  \ table as the data source.</li>\n<li><strong><code>filter</code>:</strong> All\
  \ queries on this view return records with an <code>o_orderdate</code> after January\
  \ 1, 1990.</li>\n<li><strong><code>dimensions</code>:</strong> <code>Order Month</code>,\
  \ <code>Order Status</code>, and <code>Order Priority</code> are defined as dimensions.</li>\n\
  <li><strong><code>measures</code>:</strong> Four measures (<code>Order Count</code>,\
  \ <code>Total Revenue</code>, <code>Total Revenue per Customer</code>, and <code>Total\
  \ Revenue for Open Orders</code>) are defined, each with an aggregation expression\
  \ specified.</li>\n</ul>\n<ol>\n<li>\n<p>Use the catalog and schema drop-down menu\
  \ to choose where you want to save your metric view. Downstream users must have\
  \ at least <code>USE CATALOG</code> and <code>USE SCHEMA</code> privileges to access\
  \ the metric view.</p>\n</li>\n<li>\n<p>Enter a name for your metric view. Metric\
  \ view names can include alpha-numeric values and underscores.</p>\n</li>\n<li>\n\
  <p>Replace the contents of the editor with the following definition:</p>\n<div class=\"\
  language-yaml codeBlockContainer_yPKu theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:hsl(230,\
  \ 1%, 98%)\"><div class=codeBlockTitle_lOcF>YAML</div><div class=codeBlockContent_qFFG><pre\
  \ tabindex=0 class=\"prism-code language-yaml codeBlock_PdK_ thin-scrollbar\" style=\"\
  color:#000000;background-color:hsl(230, 1%, 98%)\"><code class=codeBlockLines_oJEw><span\
  \ class=token-line style=color:#000000><span class=\"token key atrule\">version</span><span\
  \ class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"\
  token plain\"> </span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\"\
  >0.1</span><span class=\"token plain\"></span><br></span><span class=token-line\
  \ style=color:#000000><span class=\"token plain\" style=display:inline-block></span><br></span><span\
  \ class=token-line style=color:#000000><span class=\"token plain\"></span><span\
  \ class=\"token key atrule\">source</span><span class=\"token punctuation\" style=\"\
  color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> samples.tpch.orders</span><br></span><span\
  \ class=token-line style=color:#000000><span class=\"token plain\"></span><span\
  \ class=\"token key atrule\">filter</span><span class=\"token punctuation\" style=\"\
  color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> o_orderdate </span><span\
  \ class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">></span><span class=\"\
  token plain\"> '1990</span><span class=\"token punctuation\" style=\"color:rgb(4,\
  \ 81, 165)\">-</span><span class=\"token plain\">01</span><span class=\"token punctuation\"\
  \ style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\">01'</span><br></span><span\
  \ class=token-line style=color:#000000><span class=\"token plain\" style=display:inline-block></span><br></span><span\
  \ class=token-line style=color:#000000><span class=\"token plain\"></span><span\
  \ class=\"token key atrule\">dimensions</span><span class=\"token punctuation\"\
  \ style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span\
  \ class=token-line style=color:#000000><span class=\"token plain\">  </span><span\
  \ class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"\
  token plain\"> </span><span class=\"token key atrule\">name</span><span class=\"\
  token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token\
  \ plain\"> Order Month</span><br></span><span class=token-line style=color:#000000><span\
  \ class=\"token plain\">    </span><span class=\"token key atrule\">expr</span><span\
  \ class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"\
  token plain\"> DATE_TRUNC('MONTH'</span><span class=\"token punctuation\" style=\"\
  color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> o_orderdate)</span><br></span><span\
  \ class=token-line style=color:#000000><span class=\"token plain\" style=display:inline-block></span><br></span><span\
  \ class=token-line style=color:#000000><span class=\"token plain\">  </span><span\
  \ class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"\
  token plain\"> </span><span class=\"token key atrule\">name</span><span class=\"\
  token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token\
  \ plain\"> Order Status</span><br></span><span class=token-line style=color:#000000><span\
  \ class=\"token plain\">    </span><span class=\"token key atrule\">expr</span><span\
  \ class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"\
  token plain\"> CASE</span><br></span><span class=token-line style=color:#000000><span\
  \ class=\"token plain\">      WHEN o_orderstatus = 'O' then 'Open'</span><br></span><span\
  \ class=token-line style=color:#000000><span class=\"token plain\">      WHEN o_orderstatus\
  \ = 'P' then 'Processing'</span><br></span><span class=token-line style=color:#000000><span\
  \ class=\"token plain\">      WHEN o_orderstatus = 'F' then 'Fulfilled'</span><br></span><span\
  \ class=token-line style=color:#000000><span class=\"token plain\">      END</span><br></span><span\
  \ class=token-line style=color:#000000><span class=\"token plain\" style=display:inline-block></span><br></span><span\
  \ class=token-line style=color:#000000><span class=\"token plain\">  </span><span\
  \ class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"\
  token plain\"> </span><span class=\"token key atrule\">name</span><span class=\"\
  token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token\
  \ plain\"> Order Priority</span><br></span><span class=token-line style=color:#000000><span\
  \ class=\"token plain\">    </span><span class=\"token key atrule\">expr</span><span\
  \ class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"\
  token plain\"> SPLIT(o_orderpriority</span><span class=\"token punctuation\" style=\"\
  color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> '</span><span class=\"\
  token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token\
  \ plain\">')</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\"\
  >[</span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">1</span><span\
  \ class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">]</span><span class=\"\
  token plain\"></span><br></span><span class=token-line style=color:#000000><span\
  \ class=\"token plain\" style=display:inline-block></span><br></span><span class=token-line\
  \ style=color:#000000><span class=\"token plain\"></span><span class=\"token key\
  \ atrule\">measures</span><span class=\"token punctuation\" style=\"color:rgb(4,\
  \ 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=token-line\
  \ style=color:#000000><span class=\"token plain\">  </span><span class=\"token punctuation\"\
  \ style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\"> </span><span\
  \ class=\"token key atrule\">name</span><span class=\"token punctuation\" style=\"\
  color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> Order Count</span><br></span><span\
  \ class=token-line style=color:#000000><span class=\"token plain\">    </span><span\
  \ class=\"token key atrule\">expr</span><span class=\"token punctuation\" style=\"\
  color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> COUNT(1)</span><br></span><span\
  \ class=token-line style=color:#000000><span class=\"token plain\" style=display:inline-block></span><br></span><span\
  \ class=token-line style=color:#000000><span class=\"token plain\">  </span><span\
  \ class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"\
  token plain\"> </span><span class=\"token key atrule\">name</span><span class=\"\
  token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token\
  \ plain\"> Total Revenue</span><br></span><span class=token-line style=color:#000000><span\
  \ class=\"token plain\">    </span><span class=\"token key atrule\">expr</span><span\
  \ class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"\
  token plain\"> SUM(o_totalprice)</span><br></span><span class=token-line style=color:#000000><span\
  \ class=\"token plain\" style=display:inline-block></span><br></span><span class=token-line\
  \ style=color:#000000><span class=\"token plain\">  </span><span class=\"token punctuation\"\
  \ style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\"> </span><span\
  \ class=\"token key atrule\">name</span><span class=\"token punctuation\" style=\"\
  color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> Total Revenue per Customer</span><br></span><span\
  \ class=token-line style=color:#000000><span class=\"token plain\">    </span><span\
  \ class=\"token key atrule\">expr</span><span class=\"token punctuation\" style=\"\
  color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> SUM(o_totalprice) /\
  \ COUNT(DISTINCT o_custkey)</span><br></span><span class=token-line style=color:#000000><span\
  \ class=\"token plain\" style=display:inline-block></span><br></span><span class=token-line\
  \ style=color:#000000><span class=\"token plain\">  </span><span class=\"token punctuation\"\
  \ style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\"> </span><span\
  \ class=\"token key atrule\">name</span><span class=\"token punctuation\" style=\"\
  color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> Total Revenue for Open\
  \ Orders</span><br></span><span class=token-line style=color:#000000><span class=\"\
  token plain\">    </span><span class=\"token key atrule\">expr</span><span class=\"\
  token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token\
  \ plain\"> SUM(o_totalprice) FILTER (WHERE o_orderstatus='O')</span><br></span></code></pre><div\
  \ class=buttonGroup_iGMV><button type=button aria-label=\"Copy code to clipboard\"\
  \ title=Copy class=clean-btn><span class=copyButtonIcons_f0uW aria-hidden=true><svg\
  \ viewBox=\"0 0 24 24\" class=copyButtonIcon_Eny4><path fill=currentColor d=\"M19,21H8V7H19M19,5H8A2,2\
  \ 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0\
  \ 2,3V17H4V3H16V1Z\"/></svg><svg viewBox=\"0 0 24 24\" class=copyButtonSuccessIcon_V7aT><path\
  \ fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>\n\
  </li>\n<li>\n<p>Click <strong>Create</strong>.</p>\n</li>\n</ol>\n<p>Your metric\
  \ view is ready for consumption by any user with at least <code>SELECT</code> privileges\
  \ on the view. See <a href=/aws/en/data-governance/unity-catalog/manage-privileges/privileges>Unity\
  \ Catalog<!-- --> privileges and securable objects</a> to learn more about managing\
  \ permissions. To learn more about how users can query this view, see <a href=#query>\
  \ Query a metric view</a>.\nAfter creating a metric view, you can review the source,\
  \ filter, and specified measures and dimensions in the <strong>Overview</strong>\
  \ that opens.</p>\n<h2 class=\"anchor anchorWithStickyNavbar_MgEv\" id=-step-3-add-a-description-comments-and-tags><a\
  \ id=overview class=db-defined-anchor></a> Step 3: Add a description, comments,\
  \ and tags<a href=#-step-3-add-a-description-comments-and-tags class=hash-link aria-label=\"\
  Direct link to -step-3-add-a-description-comments-and-tags\" title=\"Direct link\
  \ to -step-3-add-a-description-comments-and-tags\">\xE2\x80\x8B</a></h2>\n<p>From\
  \ the overview tab:</p>\n<ul>\n<li>Click <strong>Add description</strong> to add\
  \ a description to the view's metadata.</li>\n<li>To add comments, hover over the\
  \ <strong>Comment</strong> column for the row where you want to add a comment.</li>\n\
  <li>To add tags to a measure or dimension, hover over the <strong>Tags</strong>\
  \ column where you want to add a tag.</li>\n<li>To add a tag to the view, click\
  \ <strong>Add tags</strong> on the right side of the page.</li>\n</ul>\n<h2 class=\"\
  anchor anchorWithStickyNavbar_MgEv\" id=-step-4-optional-edit-the-yaml-definition><a\
  \ id=edit class=db-defined-anchor></a> Step 4: (Optional) Edit the YAML definition<a\
  \ href=#-step-4-optional-edit-the-yaml-definition class=hash-link aria-label=\"\
  Direct link to -step-4-optional-edit-the-yaml-definition\" title=\"Direct link to\
  \ -step-4-optional-edit-the-yaml-definition\">\xE2\x80\x8B</a></h2>\n<p>You can\
  \ view the YAML definition and open the YAML editor from the <strong>Details</strong>\
  \ tab.</p>\n<ol>\n<li>Click <strong>Details</strong>.</li>\n<li>Click <strong>...more\
  \ lines</strong> to view the full definition.</li>\n<li>Click <strong>Edit</strong>\
  \ to open the YAML editor.</li>\n<li>Add or delete dimensions or measures. Click\
  \ <strong>Save</strong>.</li>\n</ol>\n<h2 class=\"anchor anchorWithStickyNavbar_MgEv\"\
  \ id=-step-5-optional-set-permissions><a id=set-permissions class=db-defined-anchor></a>\
  \ Step 5: (Optional) Set permissions<a href=#-step-5-optional-set-permissions class=hash-link\
  \ aria-label=\"Direct link to -step-5-optional-set-permissions\" title=\"Direct\
  \ link to -step-5-optional-set-permissions\">\xE2\x80\x8B</a></h2>\n<p>Metric views\
  \ respect the same hierarchical permissions model as other <!-- -->Unity Catalog<!--\
  \ --> securable objects. No new permissions are necessary if your metric view is\
  \ stored in a schema that the intended consumers have read access to. You can explicitly\
  \ assign permissions on the metric view from the <strong>Permissions</strong> tab.</p>\n\
  <ol>\n<li>Click <strong>Permissions</strong>.</li>\n<li>Use the UI to grant and\
  \ revoke permissions for other <!-- -->Databricks<!-- --> users.</li>\n</ol>\n<p>For\
  \ more details, see <a href=/aws/en/data-governance/unity-catalog/manage-privileges/#grant-perms>\
  \ Grant permissions on objects in a <!-- -->Unity Catalog<!-- --> metastore</a>.</p>\n\
  <h2 class=\"anchor anchorWithStickyNavbar_MgEv\" id=-query-a-metric-view><a id=query\
  \ class=db-defined-anchor></a> Query a metric view<a href=#-query-a-metric-view\
  \ class=hash-link aria-label=\"Direct link to -query-a-metric-view\" title=\"Direct\
  \ link to -query-a-metric-view\">\xE2\x80\x8B</a></h2>\n<p>You can query a metric\
  \ view from the workspace's built-in <a href=/aws/en/sql/user/sql-editor/>SQL editor</a>\
  \ or any SQL editor that can access your data on <!-- -->Databricks<!-- -->. To\
  \ query a metric view, you must be attached to a SQL warehouse or other compute\
  \ resource running <!-- -->Databricks Runtime<!-- --> 16.4 or above.</p>\n<p>The\
  \ following sample query evaluates the three listed measures and aggregates over\
  \ <code>Order Month</code> and <code>Order Status</code>. It returns results sorted\
  \ by <code>Order Month</code>.</p>\n<p>All measures must be wrapped in the <code>MEASURE</code>\
  \ function. See <a href=/aws/en/sql/language-manual/functions/measure><code>measure</code>\
  \ aggregate function</a>.</p>\n<div class=\"language-sql codeBlockContainer_yPKu\
  \ theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:hsl(230,\
  \ 1%, 98%)\"><div class=codeBlockTitle_lOcF>SQL</div><div class=codeBlockContent_qFFG><pre\
  \ tabindex=0 class=\"prism-code language-sql codeBlock_PdK_ thin-scrollbar\" style=\"\
  color:#000000;background-color:hsl(230, 1%, 98%)\"><code class=codeBlockLines_oJEw><span\
  \ class=token-line style=color:#000000><span class=\"token plain\" style=display:inline-block></span><br></span><span\
  \ class=token-line style=color:#000000><span class=\"token plain\"></span><span\
  \ class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">SELECT</span><span class=\"\
  token plain\"></span><br></span><span class=token-line style=color:#000000><span\
  \ class=\"token plain\"> </span><span class=\"token identifier punctuation\" style=\"\
  color:rgb(4, 81, 165)\">`</span><span class=\"token identifier\">Order Month</span><span\
  \ class=\"token identifier punctuation\" style=\"color:rgb(4, 81, 165)\">`</span><span\
  \ class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"\
  token plain\"></span><br></span><span class=token-line style=color:#000000><span\
  \ class=\"token plain\"> </span><span class=\"token identifier punctuation\" style=\"\
  color:rgb(4, 81, 165)\">`</span><span class=\"token identifier\">Order Status</span><span\
  \ class=\"token identifier punctuation\" style=\"color:rgb(4, 81, 165)\">`</span><span\
  \ class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"\
  token plain\"></span><br></span><span class=token-line style=color:#000000><span\
  \ class=\"token plain\"> MEASURE</span><span class=\"token punctuation\" style=\"\
  color:rgb(4, 81, 165)\">(</span><span class=\"token identifier punctuation\" style=\"\
  color:rgb(4, 81, 165)\">`</span><span class=\"token identifier\">Order Count</span><span\
  \ class=\"token identifier punctuation\" style=\"color:rgb(4, 81, 165)\">`</span><span\
  \ class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"\
  token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token\
  \ plain\"></span><br></span><span class=token-line style=color:#000000><span class=\"\
  token plain\"> MEASURE</span><span class=\"token punctuation\" style=\"color:rgb(4,\
  \ 81, 165)\">(</span><span class=\"token identifier punctuation\" style=\"color:rgb(4,\
  \ 81, 165)\">`</span><span class=\"token identifier\">Total Revenue</span><span\
  \ class=\"token identifier punctuation\" style=\"color:rgb(4, 81, 165)\">`</span><span\
  \ class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"\
  token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token\
  \ plain\"></span><br></span><span class=token-line style=color:#000000><span class=\"\
  token plain\"> MEASURE</span><span class=\"token punctuation\" style=\"color:rgb(4,\
  \ 81, 165)\">(</span><span class=\"token identifier punctuation\" style=\"color:rgb(4,\
  \ 81, 165)\">`</span><span class=\"token identifier\">Total Revenue per Customer</span><span\
  \ class=\"token identifier punctuation\" style=\"color:rgb(4, 81, 165)\">`</span><span\
  \ class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"\
  token plain\"></span><br></span><span class=token-line style=color:#000000><span\
  \ class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(0,\
  \ 0, 255)\">FROM</span><span class=\"token plain\"></span><br></span><span class=token-line\
  \ style=color:#000000><span class=\"token plain\"> orders_metric_view</span><br></span><span\
  \ class=token-line style=color:#000000><span class=\"token plain\"></span><span\
  \ class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">GROUP</span><span class=\"\
  token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\"\
  >BY</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"\
  color:rgb(0, 0, 255)\">ALL</span><span class=\"token plain\"></span><br></span><span\
  \ class=token-line style=color:#000000><span class=\"token plain\"></span><span\
  \ class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">ORDER</span><span class=\"\
  token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\"\
  >BY</span><span class=\"token plain\"> </span><span class=\"token number\" style=\"\
  color:rgb(9, 134, 88)\">1</span><span class=\"token plain\"> </span><span class=\"\
  token keyword\" style=\"color:rgb(0, 0, 255)\">ASC</span><span class=\"token plain\"\
  ></span><br></span><span class=token-line style=color:#000000><span class=\"token\
  \ plain\" style=display:inline-block></span><br></span></code></pre><div class=buttonGroup_iGMV><button\
  \ type=button aria-label=\"Copy code to clipboard\" title=Copy class=clean-btn><span\
  \ class=copyButtonIcons_f0uW aria-hidden=true><svg viewBox=\"0 0 24 24\" class=copyButtonIcon_Eny4><path\
  \ fill=currentColor d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2\
  \ 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"/></svg><svg viewBox=\"\
  0 0 24 24\" class=copyButtonSuccessIcon_V7aT><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\
  \ /></svg></span></button></div></div></div>\n<h2 class=\"anchor anchorWithStickyNavbar_MgEv\"\
  \ id=next-steps>Next steps<a href=#next-steps class=hash-link aria-label=\"Direct\
  \ link to Next steps\" title=\"Direct link to Next steps\">\xE2\x80\x8B</a></h2>\n\
  <ul>\n<li><a href=/aws/en/sql/language-manual/sql-ref-syntax-ddl-create-view>Use\
  \ SQL to define a metric view</a>.</li>\n<li>Use the <a href=https://docs.databricks.com/api/workspace/statementexecution\
  \ target=_blank rel=\"noopener noreferrer\">Statement Execution API</a> to run the\
  \ metric view SQL statements.</li>\n<li><a href=/aws/en/sql/user/alerts/>Set up\
  \ an alert</a>.</li>\n<li><a href=/aws/en/dashboards/datasets/#create-metric-views>Add\
  \ a metric view to a dashboard</a>.</li>\n<li><a href=/aws/en/genie/set-up>Add a\
  \ metric view to a Genie space</a>.</li>\n<li><a href=/aws/en/sql/user/queries/query-history>Troubleshoot\
  \ metric views</a>.</li>\n</ul></div><footer class=\"theme-doc-footer docusaurus-mt-lg\"\
  ><div class=\"row margin-top--sm theme-doc-footer-edit-meta-row\"><div class=col></div><div\
  \ class=\"col lastUpdated_df0x\"><span class=theme-last-updated>Last updated<!--\
  \ --> on <b><time datetime=2025-06-20T00:00:00.000Z itemprop=dateModified>Jun 20,\
  \ 2025</time></b></span></div></div></footer></article><nav class=\"pagination-nav\
  \ docusaurus-mt-lg\" aria-label=\"Docs pages\"></nav></div></div><div class=\"col\
  \ col--3\"><div class=\"tableOfContents_KI7p thin-scrollbar theme-doc-toc-desktop\"\
  ><ul class=\"table-of-contents table-of-contents__left-border\"><li><a href=#prerequisites\
  \ class=\"table-of-contents__link toc-highlight\">Prerequisites</a><li><a href=#-step-1-choose-a-data-source\
  \ class=\"table-of-contents__link toc-highlight\"><link class=db-defined-anchor>\
  \ Step 1: Choose a data source</a><li><a href=#-step-2-define-metrics class=\"table-of-contents__link\
  \ toc-highlight\"><link class=db-defined-anchor> Step 2: Define metrics</a><li><a\
  \ href=#-step-3-add-a-description-comments-and-tags class=\"table-of-contents__link\
  \ toc-highlight\"><link class=db-defined-anchor> Step 3: Add a description, comments,\
  \ and tags</a><li><a href=#-step-4-optional-edit-the-yaml-definition class=\"table-of-contents__link\
  \ toc-highlight\"><link class=db-defined-anchor> Step 4: (Optional) Edit the YAML\
  \ definition</a><li><a href=#-step-5-optional-set-permissions class=\"table-of-contents__link\
  \ toc-highlight\"><link class=db-defined-anchor> Step 5: (Optional) Set permissions</a><li><a\
  \ href=#-query-a-metric-view class=\"table-of-contents__link toc-highlight\"><link\
  \ class=db-defined-anchor> Query a metric view</a><li><a href=#next-steps class=\"\
  table-of-contents__link toc-highlight\">Next steps</a></ul></div></div></div><div\
  \ id=suPageRateApp></div></div></main></div></div></div><footer class=\"footer footer--dark\"\
  ><div class=\"container container-fluid\"><div class=\"footer__links text--center\"\
  ><div class=footer__links><a href=\"mailto:doc-feedback@databricks.com?subject=Documentation\
  \ Feedback\" target=_blank rel=\"noopener noreferrer\" class=footer__link-item>Send\
  \ us feedback<svg width=13.5 height=13.5 aria-hidden=true viewBox=\"0 0 24 24\"\
  \ class=iconExternalLink_Lu68><path fill=currentColor d=\"M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035\
  \ 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z\"/></svg></a><span class=footer__link-separator>\xC2\
  \xB7</span><a href=https://www.databricks.com/legal/privacynotice target=_blank\
  \ rel=\"noopener noreferrer\" class=footer__link-item>Privacy Notice<svg width=13.5\
  \ height=13.5 aria-hidden=true viewBox=\"0 0 24 24\" class=iconExternalLink_Lu68><path\
  \ fill=currentColor d=\"M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035\
  \ 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z\"/></svg></a><span class=footer__link-separator>\xC2\
  \xB7</span><a href=https://www.databricks.com/terms-of-use target=_blank rel=\"\
  noopener noreferrer\" class=footer__link-item>Terms of Use<svg width=13.5 height=13.5\
  \ aria-hidden=true viewBox=\"0 0 24 24\" class=iconExternalLink_Lu68><path fill=currentColor\
  \ d=\"M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828\
  \ 2.828 6.977-7.07 4.125 4.172v-11z\"/></svg></a><span class=footer__link-separator>\xC2\
  \xB7</span><a href=https://www.databricks.com/legal/modern-slavery-policy-statement\
  \ target=_blank rel=\"noopener noreferrer\" class=footer__link-item>Modern Slavery\
  \ Statement<svg width=13.5 height=13.5 aria-hidden=true viewBox=\"0 0 24 24\" class=iconExternalLink_Lu68><path\
  \ fill=currentColor d=\"M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035\
  \ 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z\"/></svg></a><span class=footer__link-separator>\xC2\
  \xB7</span><a href=https://www.databricks.com/legal/supplemental-privacy-notice-california-residents\
  \ target=_blank rel=\"noopener noreferrer\" class=footer__link-item>California Privacy<svg\
  \ width=13.5 height=13.5 aria-hidden=true viewBox=\"0 0 24 24\" class=iconExternalLink_Lu68><path\
  \ fill=currentColor d=\"M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035\
  \ 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z\"/></svg></a><span class=footer__link-separator>\xC2\
  \xB7</span><span class=footer__link-item><a href=javascript:OneTrust.ToggleInfoDisplay()>Your\
  \ Privacy Choices\xC2\_<img alt=\"\" src=https://www.databricks.com/sites/default/files/2022-12/gpcicon_small.png\
  \ data-ot-ignore=1 class=\"dbgpcicon inline-block max-h-[15px] w-auto\" width=31\
  \ height=15></a></span></div></div><div class=\"footer__bottom text--center\"><div\
  \ class=footer__copyright>\xC2\xA9 Databricks 2025. All rights reserved. Apache,\
  \ Apache Spark, Spark and the Spark logo are trademarks of the <a href=https://www.apache.org/\
  \ target=_blank>Apache Software Foundation</a>.</div></div></div></footer></div>"
label:
  content: "Create a metric view Preview This feature is in Public Preview . Learn how to create a metric view to centralize business logic and consistently define key performance indicators across reporting surfaces. See Unity Catalog metric views . This tutorial demonstrates how to create a metric view using the Catalog Explorer UI. To define metric views using SQL, see CREATE VIEW . Prerequisites 창 You must have SELECT privileges on the source data objects. You must have the CREATE TABLE privilege and the USE SCHEMA privilege in the schema where you want to create the metric view. You must also have the USE CATALOG privilege on the schema's parent catalog. CAN USE permissions on a SQL warehouse or other compute resource running Databricks Runtime 16.4 or above. A metastore admin or the catalog owner can grant you all of these privileges. A schema owner or user with the MANAGE privilege can grant you USE SCHEMA and CREATE TABLE privileges on the schema. Step 1: Choose a data source 창 Your metric view can be based on a table, view, or SQL query. This tutorial uses the orders table in the samples catalog창s tpch schema. Click Catalog in the workspace sidebar. Use the search bar in the schema browser to find the samples.tpch.orders table. Click orders to show table details. Click Create > Metric view . The YAML editor opens. Step 2: Define metrics 창 The YAML definition for this metric view includes the following top-level fields: version : Defaults to 0.1 . This is the version of the metric view specification. source: samples.tpch.orders is a fully-qualified table name. All dimensions and measures on this metric view use the specified table as the data source. filter : All queries on this view return records with an o_orderdate after January 1, 1990. dimensions : Order Month , Order Status , and Order Priority are defined as dimensions. measures : Four measures ( Order Count , Total Revenue , Total Revenue per Customer , and Total Revenue for Open Orders ) are defined, each with an aggregation expression specified. Use the catalog and schema drop-down menu to choose where you want to save your metric view. Downstream users must have at least USE CATALOG and USE SCHEMA privileges to access the metric view. Enter a name for your metric view. Metric view names can include alpha-numeric values and underscores. Replace the contents of the editor with the following definition: YAML version : 0.1 source : samples.tpch.orders filter : o_orderdate > '1990 - 01 - 01' dimensions : - name : Order Month expr : DATE_TRUNC('MONTH' , o_orderdate) - name : Order Status expr : CASE WHEN o_orderstatus = 'O' then 'Open' WHEN o_orderstatus = 'P' then 'Processing' WHEN o_orderstatus = 'F' then 'Fulfilled' END - name : Order Priority expr : SPLIT(o_orderpriority , ' - ') [ 1 ] measures : - name : Order Count expr : COUNT(1) - name : Total Revenue expr : SUM(o_totalprice) - name : Total Revenue per Customer expr : SUM(o_totalprice) / COUNT(DISTINCT o_custkey) - name : Total Revenue for Open Orders expr : SUM(o_totalprice) FILTER (WHERE o_orderstatus='O') Click Create . Your metric view is ready for consumption by any user with at least SELECT privileges on the view. See Unity Catalog privileges and securable objects to learn more about managing permissions. To learn more about how users can query this view, see Query a metric view .\nAfter creating a metric view, you can review the source, filter, and specified measures and dimensions in the Overview that opens. Step 3: Add a description, comments, and tags 창 From the overview tab: Click Add description to add a description to the view's metadata. To add comments, hover over the Comment column for the row where you want to add a comment. To add tags to a measure or dimension, hover over the Tags column where you want to add a tag. To add a tag to the view, click Add tags on the right side of the page. Step 4: (Optional) Edit the YAML definition 창 You can view the YAML definition and open the YAML editor from the Details tab. Click Details . Click ...more lines to view the full definition. Click Edit to open the YAML editor. Add or delete dimensions or measures. Click Save . Step 5: (Optional) Set permissions 창 Metric views respect the same hierarchical permissions model as other Unity Catalog securable objects. No new permissions are necessary if your metric view is stored in a schema that the intended consumers have read access to. You can explicitly assign permissions on the metric view from the Permissions tab. Click Permissions . Use the UI to grant and revoke permissions for other Databricks users. For more details, see Grant permissions on objects in a Unity Catalog metastore . Query a metric view 창 You can query a metric view from the workspace's built-in SQL editor or any SQL editor that can access your data on Databricks . To query a metric view, you must be attached to a SQL warehouse or other compute resource running Databricks Runtime 16.4 or above. The following sample query evaluates the three listed measures and aggregates over Order Month and Order Status . It returns results sorted by Order Month . All measures must be wrapped in the MEASURE function. See measure aggregate function . SQL SELECT ` Order Month ` , ` Order Status ` , MEASURE ( ` Order Count ` ) , MEASURE ( ` Total Revenue ` ) , MEASURE ( ` Total Revenue per Customer ` ) FROM orders_metric_view GROUP BY ALL ORDER BY 1 ASC Next steps 창 Use SQL to define a metric view . Use the Statement Execution API to run the metric view SQL statements. Set up an alert . Add a metric view to a dashboard . Add a metric view to a Genie space . Troubleshoot metric views ."
